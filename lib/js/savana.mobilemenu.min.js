!function(a,b){"use strict";a.fn.mobilemenu=function(b){var c=savana.extend({classMenu:"ul.menu-mobile-nivel-1",titleDefault:"Menu princiapal",classBtnMenuMobile:"a.sjs-btn-menu",insertBtnMenuMobileAfter:"body",classMenuNivel1:"ul.menu-mobile-nivel-1",classMenuNivel2:"ul.menu-mobile-nivel-2",classAside:".make-all-aside",classAsideNavs:".make-nav",classAsideFilter:".make-filter",classMegamenu:"div.megamenu",classBackMenu:"p.sjs-menu-back > a",asideFloat:!0},b),d={init:function(){var a=this;return a.insertBtnMenu(),a.getItemsMenu(a),a.openMenu(a),a.openMenuSubItens(a),a.backMenu(),a.navAsideButtons(),a.btnOpenAside(a),a.closeAside(),a.asideFloat(),a.hideMenuInMobile(),null},hideMenuInMobile:function(){return"mobile"==savana.whatDevice()||"tablet"==savana.whatDevice()?a(c.classMenu).hide():a(c.classMenu).show(),null},insertBtnMenu:function(){return a(c.insertBtnMenuMobileAfter).push('<a href="#menu" class="sjs-btn-menu"><span></span></a>',"after"),null},contentMenu:function(a,b,c){return'<div class="animated sjs-content-menu '+b+'"><div class="sjs-header"><h5>'+c+"</h5></div><ul>"+a+"</ul></div>"},insertContentMenu:function(b,c,d,e){return a("body").push(b.contentMenu(c,d,e)),null},getItemsMenu:function(b){var d="",e=0;return a(c.classMenuNivel1).child("li").each(function(b){var f=a(this),g=f.child("a").content("text"),h=f.child("a").attr("href"),i="",j="";f.child(c.classMegamenu).length&&(i="<div class='sjs-open-subitem'> + </div>",j=f.find(c.classMenuNivel2).copy()),d+='<li rel="'+e+'" class="sjs-menu-'+savana.rewrite(g)+'"><a href="'+h+'">'+g+"</a> "+i+j+"</li>",e++}),b.insertContentMenu(b,d,"sjs-n1",c.titleDefault),null},openMenu:function(b){return a("body").delegate("click",c.classBtnMenuMobile,function(b){a(this).toggleClass("active"),a(this).hasClass("active")?(a(".sjs-content-menu.sjs-n1").removeClass("slideOutLeft").show().animate("slideInLeft"),a("html").addClass("body-mobile")):(a(".sjs-content-menu.sjs-n1, .sjs-content-menu.sjs-n2").removeClass("slideInLeft").animate("slideOutLeft"),a("html").removeClass("body-mobile"),setTimeout(function(){a(".sjs-content-menu.sjs-n2").destroy()},2e3)),savana.eventStop(b)}),null},openMenuSubItens:function(b){return a("body").delegate("click","div.sjs-open-subitem",function(c){var d=a(this).parents("li");d.toggleClass("active");var e="<li class='menu-current'>"+d.find("a").eq(0).content("text")+"</li>",f=e,g="";d.child("ul").child("li").each(function(){var b=a(this),c=b.content("html");f+="<li>"+c+g+"</li>"}),b.insertContentMenu(b,f,"sjs-n2","<p class='sjs-menu-back'><a rel='sjs-n1' href='#back'> < Voltar</a></p>"),a("div.sjs-n2 > ul > li").each(function(){var b=a(this);b.child("ul").length&&b.push("<div class='sjs-open-subitem'> + </div>","after")}),a(".sjs-content-menu.sjs-n2").removeClass("slideOutLeft").show().animate("slideInLeft"),savana.eventStop(c)}),null},backMenu:function(){return a("body").delegate("click",c.classBackMenu,function(b){var c=a(this);c.parents(".sjs-content-menu").removeClass("slideInLeft").animate("slideOutLeft"),setTimeout(function(){c.parents(".sjs-content-menu").destroy()},2e3),savana.eventStop(b)}),null},navAsideButtons:function(){var b="<a rel='nav' class='sjs-aside-nav' href='#nav'>Navega\xe7\xe3o</a>",d="<a rel='filter' class='sjs-aside-filter' href='#filter'>Filtros</a>";return savana.elementExist(c.classAsideNavs)||(b=""),savana.elementExist(c.classAsideFilter)||(d=""),a("body").push("<div class='sjs-btns'>"+b+d+"</div>","before"),a(c.classAside).push("<div class='header-aside'><p></p></div>","before"),null},headerTypeAside:function(b){var d;return d="nav"==b?"<a class='out-nav' href='#'> < Fechar navega\xe7\xe3o</a>":"<a class='out-filter' href='#'> < Fechar filtro</a>",a(c.classAside).find(".header-aside > p").content("html",d),null},btnOpenAside:function(b){return a("body").delegate("click",".sjs-btns a",function(d){var e=a(this);e.toggleClass("active");var f=e.attr("rel");a(c.classAside).removeClass("active-nav").removeClass("active-filter"),a(c.classAside).addClass("active-"+f),a(c.classAside).removeClass("slideOutLeft").show().animate("slideInLeft"),b.headerTypeAside(f),a("html").addClass("body-mobile"),savana.eventStop(d)}),null},closeAside:function(){return a("body").delegate("click",".header-aside a",function(b){a(c.classAside).removeClass("slideInLeft").animate("slideOutLeft"),a("html").removeClass("body-mobile"),savana.eventStop(b)}),null},asideFloat:function(){if(c.asideFloat){var b=a(".make-all-aside").size()+50,d=a("body").size();a(window).scroll(function(c){d.w>100&&"desktop"==savana.whatDevice()&&(document.body.scrollTop>b.h?a(".make-all-aside").addClass("float"):a(".make-all-aside").removeClass("float"))})}return null}};d.init()}}($savana);