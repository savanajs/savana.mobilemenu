!function(e,s){"use strict";e.fn.mobilemenu=function(s){var n=savana.extend({classMenu:"ul.menu-mobile-nivel-1",titleDefault:"Menu princiapal",classBtnMenuMobile:"a.sjs-btn-menu",insertBtnMenuMobileAfter:"body",classMenuNivel1:"ul.menu-mobile-nivel-1",classMenuNivel2:"ul.menu-mobile-nivel-2",classAside:".make-all-aside",classAsideNavs:".make-nav",classAsideFilter:".make-filter",classMegamenu:"div.megamenu",classBackMenu:"p.sjs-menu-back > a",asideFloat:!0},s),a={init:function(){var e=this;return e.insertBtnMenu(),e.getItemsMenu(e),e.openMenu(e),e.openMenuSubItens(e),e.backMenu(),e.navAsideButtons(),e.btnOpenAside(e),e.closeAside(),e.asideFloat(),e.hideMenuInMobile(),null},hideMenuInMobile:function(){return"mobile"==savana.whatDevice()||"tablet"==savana.whatDevice()?e(n.classMenu).hide():e(n.classMenu).show(),null},insertBtnMenu:function(){return e(n.insertBtnMenuMobileAfter).push('<a href="#menu" class="sjs-btn-menu"><span></span></a>',"after"),null},contentMenu:function(e,s,n){return'<div class="animated sjs-content-menu '+s+'"><div class="sjs-header"><h5>'+n+"</h5></div><ul>"+e+"</ul></div>"},insertContentMenu:function(s,n,a,t){return e("body").push(s.contentMenu(n,a,t)),null},getItemsMenu:function(s){var a="",t=0;return e(n.classMenuNivel1).child("li").each(function(s){var i=e(this),l=i.content("text"),u=i.child("a").attr("href"),c="",o="";i.child(n.classMegamenu).length&&(c="<div class='sjs-open-subitem'> + </div>",o=i.find(n.classMenuNivel2).copy()),a+='<li rel="'+t+'" class="sjs-menu-'+savana.rewrite(l)+'"><a href="'+u+'">'+l+"</a> "+c+o+"</li>",t++}),s.insertContentMenu(s,a,"sjs-n1",n.titleDefault),null},openMenu:function(s){return e("body").delegate("click",n.classBtnMenuMobile,function(s){e(this).toggleClass("active"),e(this).hasClass("active")?e(".sjs-content-menu.sjs-n1").removeClass("slideOutLeft").show().animate("slideInLeft"):(e(".sjs-content-menu.sjs-n1, .sjs-content-menu.sjs-n2").removeClass("slideInLeft").animate("slideOutLeft"),setTimeout(function(){e(".sjs-content-menu.sjs-n2").destroy()},2e3)),savana.eventStop(s)}),null},openMenuSubItens:function(s){return e("body").delegate("click","div.sjs-open-subitem",function(n){var a=e(this).parents("li");a.toggleClass("active");var t="<li class='menu-current'>"+a.find("a").eq(0).content("text")+"</li>",i=t,l="";a.child("ul").child("li").each(function(){var s=e(this),n=s.content("html");i+="<li>"+n+l+"</li>"}),s.insertContentMenu(s,i,"sjs-n2","<p class='sjs-menu-back'><a rel='sjs-n1' href='#back'> < Voltar</a></p>"),e("div.sjs-n2 > ul > li").each(function(){var s=e(this);s.child("ul").length&&s.push("<div class='sjs-open-subitem'> + </div>","after")}),e(".sjs-content-menu.sjs-n2").removeClass("slideOutLeft").show().animate("slideInLeft"),savana.eventStop(n)}),null},backMenu:function(){return e("body").delegate("click",n.classBackMenu,function(s){var n=e(this);n.parents(".sjs-content-menu").removeClass("slideInLeft").animate("slideOutLeft"),setTimeout(function(){n.parents(".sjs-content-menu").destroy()},2e3),savana.eventStop(s)}),null},navAsideButtons:function(){var s="<a rel='nav' class='sjs-aside-nav' href='#nav'>Navegação</a>",a="<a rel='filter' class='sjs-aside-filter' href='#filter'>Filtros</a>";return savana.elementExist(n.classAsideNavs)||(s=""),savana.elementExist(n.classAsideFilter)||(a=""),e("body").push("<div class='sjs-btns'>"+s+a+"</div>","before"),e(n.classAside).push("<div class='header-aside'><p></p></div>","before"),null},headerTypeAside:function(s){var a;return a="nav"==s?"<a class='out-nav' href='#'> < Fechar navegação</a>":"<a class='out-filter' href='#'> < Fechar filtro</a>",e(n.classAside).find(".header-aside > p").content("html",a),null},btnOpenAside:function(s){return e("body").delegate("click",".sjs-btns a",function(a){var t=e(this);t.toggleClass("active");var i=t.attr("rel");e(n.classAside).removeClass("active-nav").removeClass("active-filter"),e(n.classAside).addClass("active-"+i),e(n.classAside).removeClass("slideOutLeft").show().animate("slideInLeft"),s.headerTypeAside(i),savana.eventStop(a)}),null},closeAside:function(){return e("body").delegate("click",".header-aside a",function(s){e(n.classAside).removeClass("slideInLeft").animate("slideOutLeft"),savana.eventStop(s)}),null},asideFloat:function(){if(n.asideFloat){var s=e(".make-all-aside").size()+50,a=e("body").size();e(window).scroll(function(n){a.w>100&&"desktop"==savana.whatDevice()&&(document.body.scrollTop>s.h?e(".make-all-aside").addClass("float"):e(".make-all-aside").removeClass("float"))})}return null}};a.init()}}($savana);